<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
    .maxBox {
        padding: 4px 6px;
        font-size: 16px;
        color: #3EAFE0;
    }

    .clickBtn {
        border: 1px solid #3EAFE0;
        background-color: #3EAFE0;
        color: #FFF;
        font-size: 14px;
        padding: 4px 6px;
    }
    
    .result {
        font-size: 80px;
        color: #3EAFE0;
        font-weight: bold;
        padding: 30px;
    }

    .txt_center {
        text-align: center;
    }

    .exist {
        border: 1px solid #EEE;
        padding: 20px;
        margin: 20px auto;
        width: 600px;
        min-height: 100px;
        text-align: left;
    }
    .form span{
    	  display: inline-block;
        padding: 2px 10px;
        margin: 4px;
        border-radius: 3px;
        background-color: #3EAFE0;
        color: #FFFFFF;
    }
    .exist span {
        display: inline-block;
        padding: 2px 10px;
        margin: 4px;
        border-radius: 3px;
        background-color: #3EAFE0;
        color: #FFFFFF;
    }

    .info {
        border: 1px solid blue;
        color: #000;
        font-weight: 500;
        padding: 20px;
        margin: 20px auto;
        width: 600px;
    }
    ul{
    	position: absolute;
    	opacity: 0;
    }
    .none{
    	position: absolute;
    	opacity: 0;
    }
    .bnone{
    	position: absolute;
    	opacity: 0;
    }
    </style>
</head>

<body>
	<div id="none" class="none"></div>
	<div id="bnone" class="none"></div>
	 <ul id="uu">
        	<li>郭悦</li>
        	<li>徐志国</li>
        	<li>朱晓腾</li>
        	<li>郭春乐</li>
        	<li>谢爽</li>
        	<li>仝令辉</li>
        	<li>赵倩倩</li>
        	<li>徐训凯</li>
        	<li>郑瑶</li>
        	<li>邓荣</li>
        	<li>翟康楠</li>
        	<li>李绪杰</li>
        	<li>李春涛</li>
        	<li>赵英旗</li>
        	<li>吴朝旭</li>
        	<li>王全武</li>
        	<li>肥宅</li>
        	<li>丛浩正</li>
        	<li>郑架辉</li>
        	<li>钱泽宇</li>
        	<li>王海坤</li>
        	<li>郑奂</li>
        	<li>黄迎</li>
        	<li>苑博林</li>
        	<li>刘莹莹</li>
        	<li>邢涛</li>
        	<li>巩京英</li>
            <li>冯贝贝</li>
            <li>许舰</li>
            <li>齐鑫</li>
            <li>杨全坤</li>
            <li>吴宁</li>
            <li>栾迎雪</li>
            <li>吴菲菲</li>
            <li>张培增</li>
            <li>韩美玲</li>
            <li>张宬也</li>
            <li>李倩</li>
            <li>李冬冬</li>
            <li>段蕾</li>
            <li>冯乃辉</li>
            <li>刘芯苹</li>
            <li>龙宇</li>
        </ul>
	<input class="maxBox" type="text" id="form"><button type="button"  class="clickBtn" id="formbtn">确定</button>
	<div id="bobbob" class="form">抽取顺序：</div>
    <div class="txt_center">
        <div class="result">
            <span class="" id="result">0</span>
        </div>
        <input class="maxBox" type="text" id="txt" placeholder="请在里面输入号码最大值！">
        <input class="clickBtn" type="button" id="btn" value="抽号">
        <div class="exist">
       
            <div>已抽取：
            
            
            
            
            
            
            
            
            
            </div>
            <div class="ooexist" id="exist">
            
            </div>
        </div>
    </div>
    <!--练习说明-->
    <div class="info">
        1、在文本框中输入抽号最大值
        <br/> 2、点击按钮，开始抽号，随机生成1~最大值之间的整数
        <br/> 3、已经抽取的号码存入一个数组
        <br/> 4、为了保证号码的唯一性，每次生成一个号码，跟数组中的已抽取的号码比对
        <br/> 5、如果已存在，重新生成号码
        <br/> 6、如果不存在，放入数组中保存，并显示出来
        <br/> 7、将号码结果放入result中显示出来
        <br/> 8、将已经生成的号码（数组）存入exist中显示出来
        <br/>
    </div>
    <script type="text/javascript" src="js/jquery-3.3.1.min.js" ></script>
    <script type="text/javascript">
    	var ores=document.getElementById("result");
    	var otext=document.getElementById("txt");
    	var obon=document.getElementById("btn");
    	var oexist=document.getElementById("exist");
    	var one=document.getElementById("1");
    	var max=document.getElementById("form")
    	var creat=0;
    	var bolist;
    	var oform=document.getElementById("formbtn");
    	var obob=document.getElementById("bobbob")
    	var y=0;
    	var cos=document.querySelectorAll("li")
    	var oo=0;
    	var onoe=document.getElementById("none")
    	var obbb=document.getElementById("bnone")
       console.log(cos)
       
    	oform.onclick=function () {
    		
    		var x=Math.floor(Math.random()*max.value+1)
    		
    		
    		function form(x){
    		 var arr=document.querySelectorAll(".none span");
    		 var a=0;
    		for (i=0;i<arr.length;i++) {
    			if (x==arr[i].innerText) {
    				a++;
    			}
    			
    		}
    		if(a==0){   			 			
    			var xo=document.createElement("span")
    			xo.innerText=cos[x-1].innerText;
    			var co=document.createElement("span")
    			co.innerText=x;
    			onoe.appendChild(co);   			
    			obob.appendChild(xo);
    			y++;
    			if(y<max.value){
    			x=Math.floor(Math.random()*max.value+1);    			
    			return  form(x);
    			
    			}
    			if (y==max.value) {
    				var arr=document.querySelectorAll(".form span")
    				alert(arr[arr.length-1].innerText+"你将被老师安排");
    				return false;
    			}
    			
    		}
    		else{
    			x=Math.floor(Math.random()*max.value+1);
    			return form(x);
    		}
    		}
    		form(x)
    	}
    	obon.onclick=function(){
    		
    		var arr =document.querySelectorAll(".ooexist span");
    		var x= Math.floor(Math.random()*otext.value+1);
    		if (creat==0) {
    			creat=1;
    			for (i=1;i<=otext.value;i++) {
    			var box=document.createElement("div");
    			box.className="bob";
    			box.innerText="第"+i+"组";
    			oexist.appendChild(box);
    			bolist=document.querySelectorAll(".bob")
    			
    		}
    			
    		}
    		
    		if (otext.value==''){
    			alert("请输入一个数字");
    			return;
    		}
    		if(isNaN(otext.value)==true){
    			alert("请输入数字");
    			otext.value='';
    			return;
    		}
    		if (arr.length==otext.value*3) {
    			alert("已经抽取完毕")
    			return;
    			
    		}
    		if (arr.length>otext.value*3){
    			alert("该数字小于已抽取的座位数量，请重新输入")
    			otext.value='';
    			return;
    		}
    		function num(x){
    			var a=0;
    			var arr=document.querySelectorAll(".ooexist span")
    			
    			var obonn=document.querySelectorAll(".none span")
    			
    		for (i=0;i<obonn.length;i++) {
    			if (x==obonn[i].innerText) {
    				a++;
    			}
    			
    		}
    		if(a<=3){
    			var oname=document.querySelectorAll(".form span")
    			ores.innerText=oname[0].innerText;
    			var occc=document.querySelectorAll("#bobbob span")
    			occc[0].parentNode.removeChild(occc[0])
    			var cxc=document.createElement("span");
    			cxc.innerText=x;
    			obbb.appendChild(cxc)
    			var xx=document.createElement("span");
    			xx.innerText=ores.innerText;
    			bolist[x-1].appendChild(xx)
    			oo++;
    		}
    		else{
    			x=Math.floor(Math.random()*otext.value+1);
    			return num(x);
    		}
    		}
    		num(x);
    	    console.log(arr)
    		
    	}
    	
    </script>
</body>

</html>