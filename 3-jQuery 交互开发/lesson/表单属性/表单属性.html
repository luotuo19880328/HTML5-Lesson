<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<form>
			<p>
				<label>账号：</label>
				<input placeholder="请输入至少6位用户名" class="username" type="text">
			</p>
			<p>
				<label>密码：</label>
				<input placeholder="请输入至少6位数字" class="password" type="password">
				<b class="eye">👀</b>
			</p>
			<p>
				<label>推荐：</label>
				<input type="text" readonly value="XPOS">
			</p>
			<p>
				<label>性别：</label>
				<label>
					<input type="radio" checked name="sex" value="1" /> 男
				</label>
				<label>
					<input type="radio" name="sex" value="0" /> 女
				</label>
			</p>
			<p>
				<label>爱好：</label>
				<label>
					<input type="checkbox" name="hobby" value="电影"> 电影
				</label>
				<label>
					<input name="hobby" value="旅游" type="checkbox"> 旅游
				</label>
				<label>
					<input name="hobby" value="摄影" type="checkbox"> 摄影
				</label>
				<label>
					<input name="hobby" value="绘画" type="checkbox"> 绘画
				</label>
				<label>
					<input id="chkAll" type="checkbox"> 全选
				</label>
			</p>
			<p>
				<label>学历：</label>
				<select class="degree">
					<option value="高中">高中</option>
					<option value="专科">专科</option>
					<option selected value="本科">本科</option>
					<option value="研究生">研究生</option>
					<option value="博士">博士</option>
				</select>
			</p>
			<p>
				<label>介绍：</label>
				<textarea class="info" placeholder="请输入至少100字的自我介绍" rows="10" cols="30"></textarea>
				<small></small>
			</p>
			<p>
				<label class="lisence"><input checked type="checkbox" />我已阅读网站的用户协议</label>
			</p>
			<p>
				<button id="register" type="button">注 册</button>
			</p>
		</form>
		<script src="js/jquery-3.3.1.min.js"></script>
		<script type="text/javascript">
			// disabled
			$('.lisence').click(function() {
				var status = $(this).find('input[type=checkbox]').prop('checked');
				$('#register').prop('disabled', !status);
			});
			// change事件
			$('.username').change(function() {
				// 获取val
				var text = $(this).val();
				var reg = /^\w{6,}$/;
				var flag = reg.test(text);
				if (flag) {
					$(this).css('border', '1px solid green');
				} else {
					$(this).css('border', '1px solid red');
				}
			});
			$('.eye').click(function() {
				// 获取type
				var type = $('.password').prop('type');
				// 设置type
				if (type == 'password') {
					$('.password').prop('type', 'text');
				} else {
					$('.password').prop('type', 'password');
				}
			});
			// 获取性别sex的值
			$('#register').click(function() {
				var sex = $('input[name=sex]:checked').val();
				// 获取checkbox
				var hobby = [];
				$('input[name=hobby]:checked').each(function() {
					var val = $(this).val();
					hobby.push(val);
				});
				// 获取select
				var degree = $('.degree').val();
				// 获取textarea
				var info = $('.info').val();
			});
			// 全选
			$('#chkAll').click(function() {
				// 获取全选chk的当前状态
				var status = $(this).prop('checked');
				// 将状态赋值给hobby
				$('input[name=hobby]').prop('checked', status);
			});
			$('input[name=hobby]').click(function() {
				// 总数
				var total = $('input[name=hobby]').length;
				// 已选中的数量 
				var chkNum = $('input[name=hobby]:checked').length;

				if (chkNum == total) {
					$('#chkAll').prop('checked', true);
				} else {
					$('#chkAll').prop('checked', false);
				}
			});
			// 监听输入
			$('.info').on('input', function() {
				var txt = $(this).val();
				$(this).siblings('small').text('剩余' + (100 - txt.length) + '字');
			});
		</script>
	</body>
</html>
