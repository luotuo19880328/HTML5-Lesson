<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<style type="text/css">
			.table td,
			.table th {
				border: 1px solid #eee;
				text-align: center;
			}

			.box {
				width: 100px;
				height: 100px;
				background-color: blue;
				margin: 10px 0;
			}
		</style>
	</head>

	<body>
		<button id="btn" type="button">toggle</button>
		<div class="box"></div>

		<table width="100%" class="table">
			<thead>
				<tr>
					<th>#</th>
					<th>姓名</th>
					<th>年龄</th>
					<th>地区</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>1</td>
					<td>黄小米</td>
					<td>22</td>
					<td>山东潍坊</td>
				</tr>
				<tr>
					<td>2</td>
					<td>黄渤</td>
					<td>42</td>
					<td>山东青岛</td>
				</tr>
				<tr>
					<td>3</td>
					<td>黄磊</td>
					<td>46</td>
					<td>北京</td>
				</tr>
				<tr>
					<td>4</td>
					<td>张艺兴</td>
					<td>28</td>
					<td>湖北武汉</td>
				</tr>
				<tr>
					<td>5</td>
					<td>罗志祥</td>
					<td>36</td>
					<td>中国台湾</td>
				</tr>
				<tr>
					<td>6</td>
					<td>王迅</td>
					<td>40</td>
					<td>四川重庆</td>
				</tr>
			</tbody>
		</table>
		<p>
			<button id="sort" type="button">年龄从小到大排序</button>
			平均年龄：
			<span class="avg-age">0</span>
			岁
		</p>
		<p>
			<input type="text" id="keyword" value="" />
			<button id="search" type="button">搜索</button>
		</p>
		<!--jQuery-->
		<script src="js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			// DOM排序
			$('#sort').click(function() {
				// 方法2：借助于数组里面的sort方法
				var arr = [];
				$('.table tbody tr').each(function() {
					arr.push($(this));
				});
				// sort排序
				arr.sort(function($itemA, $itemB) {
					var ageA = $itemA.find('td').eq(2).text().trim();
					var ageB = $itemB.find('td').eq(2).text().trim();
					return ageA - ageB;
				});
				// 插入DOM
				$('.table tbody').append(arr)

				// 方法1：借助jQuery对象里面的sort
				var $tr = $('.table tbody tr');
				$tr.sort(function(itemA, itemB) {
					// itemA itemB 全是js对象 
					// js对象转化为jQuery对象
					var ageA = $(itemA).find('td').eq(2).text().trim();
					var ageB = $(itemB).find('td').eq(2).text().trim();
					return ageA - ageB;
				})
				console.log($tr)
			});

			// 显示遍历--平均年龄
			var total = 0;
			$('.table tbody tr').each(function(index) {
				var age = $(this).find('td').eq(2).text().trim();
				age = parseInt(age);
				total += age;
			})
			var avg = total / $('.table tbody tr').length;
			$('.avg-age').text(avg);
		</script>
	</body>

</html>
