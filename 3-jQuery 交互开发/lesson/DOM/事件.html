<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<style type="text/css">
			.box {
				border: 1px solid #0000FF;
				width: 200px;
				height: 200px;
				position: absolute;
				left: 0;
				top: 0;
			}

			.cube {
				width: 100px;
				height: 100px;
				background-color: blue;
				display: inline-block;
				position: relative;
			}

			.slider {
				text-align: center;
				padding: 20px;
				border: 2px solid #ddd;
				margin: 20px 0;
			}

			.slider::after {
				content: "";
				clear: both;
				display: block;
			}

			.left {
				float: left;
			}

			.right {
				float: right;
			}

			.wrap {
				position: relative;
				height: 500px;
				border: 2px solid red;
			}
		</style>
	</head>

	<body>
		<div style="height: 800px;"></div>
		<div class="wrap">
			<div class="box"></div>
		</div>

		<div class="slider">
			<button class="left" type="button">左</button>
			<div class="cube"></div>
			<button class="right" type="button">右</button>
		</div>

		<script src="js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				$(".right").click(function() {
					// 获取left
					var left = parseFloat($('.cube').css('left'));
					left += 10;
					$('.cube').css('left', left);
				});
				setInterval(function(){
					$('.right').trigger('click');
				},500);
			});
		</script>
		<script type="text/javascript">
			$(document).ready(function() {
				$('.box').hover(function() {
					$(this).css("background-color", "yellow");
				}, function() {
					$(this).css("background-color", "white");
				});

				$('.box').mousedown(function(e) {
					var sx = e.pageX;
					var sy = e.pageY;
					// 获取left,top
					var left = $(this).position().left;
					var top = $(this).position().top;

					$(document).mousemove(function(e) {
						var dx = e.pageX;
						var dy = e.pageY;
						// 计算移动距离
						var distanceX = dx - sx;
						var distanceY = dy - sy;
						// 修改box的left,top
		 				$(".box").css({
							left: left + distanceX,
							top: top + distanceY
						});
					});
				});
				// 移除事件
				$(document).mouseup(function() {
					$(document).off('mousemove');
				});
			});
		</script>
	</body>

</html>
