<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        const ajax1 = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    try {
                        Math.random() < 0.5 ? resolve("ajax1 成功！") : reject("ajax1 失败！");
                    } catch (error) {
                        throw error;
                    }
                }, 200);
            })
        }
        const ajax2 = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("ajax2 成功！");
                    // reject("ajax2 失败！");
                }, 200)
            })
        }
        // 串行执行
        const doSerial = () => {
            ajax1()
                .then((res) => {
                    if (res == "ajax1 成功！") {
                        console.log(res)
                        return ajax2();
                    }
                })
                .then((res) => {
                    if (res == "ajax2 成功！") {
                        console.log(res);
                        alert("success");
                    }
                })
                .catch((error) => {
                    console.log(error);
                    alert("fail");
                })
        }
        doSerial();
        // 并行执行
        const doParallel = () => {

        }
    </script>
</body>

</html>