<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>DOM操作</title>
		<style type="text/css">
			body {
				font-family: "微软雅黑";
			}

			.face img {
				max-width: 100%;
			}

			.result {
				margin-top: 20px;
				padding: 10px 10px 0 10px;
				border: 1px solid #CCCCCC;
				color: #e77064;
			}

			.result p {
				margin-top: 0;
				padding-left: 10px;
				border-left: 4px solid #E77064;
			}

			.result p b {
				float: right;
				cursor: pointer;
			}

			.result p:after {
				content: '';
				clear: both;
				display: block;
			}
		</style>
	</head>

	<body>
		<div>
			<h1 class="title">一对"CP"</h1>
		</div>
		<div class="content" id="content">
			<img width="600" src="img/120045g1eplnbpbz4fluz0.jpeg" />
			<p>
				爱朔州网2月23日消息，此前曾报道胡歌、霍建华两位男神赴北海道拍大片，这组大片将在《时尚芭莎》3月下封面大片亮相。
			</p>
			<p>大片中两位男神CP雪地嬉戏基情满满。</p>
			<p>这
				<a href="2-BOM.html">高颜值</a>和大长腿，小编表示血槽已空啊……
			</p>
		</div>
		<div class="comment">
			<input type="text" id="txt" value="" />
			<input type="button" id="btn" value="评论" />
			<div class="result" id="result">
				<p>基情满满<b>x</b></p>
				<p>是胡不是霍<b>x</b></p>
				<p>撒娇的<b>x</b></p>
				<p>要删除的评论<b>x</b></p>
				<p>新的评论<b>x</b></p>
			</div>
		</div>

		<script type="text/javascript">
			// 查找元素
			var oBtn = document.getElementById('btn');
			var oTxt = document.getElementById('txt');
			var oResult = document.getElementById('result');

			oBtn.onclick = function() {
				// 获取评论文字，trim()：去掉两头空格
				var text = oTxt.value.trim();
				// 判断评论是否为空
				if (!text) {
					alert("请输入评论内容！");
					return;
				}
				// 创建标签
				var oP = document.createElement('p');
				// 修饰内容
				oP.innerHTML = text + '<b>x</b>';
				// 尾部插入元素
				// oResult.appendChild(oP);
				// 头部插入元素
				oResult.insertBefore(oP, oResult.firstChild)
				// 清空value
				oTxt.value = '';
			}
			// 删除操作
			// 事件委托，将事件委托给自己的祖先元素，保证它在页面一开始就存在
			oResult.onclick = function(event) {
				// event.target实际点击的元素，判断是否点击的删除按钮
				if (event.target.tagName === "B") {
					event.target.parentElement.remove();
				}
			}
		</script>
	</body>

</html>
