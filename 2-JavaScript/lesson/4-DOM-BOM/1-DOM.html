<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>DOM操作</title>
		<style type="text/css">
			body {
				font-family: "微软雅黑";
			}

			.face img {
				max-width: 100%;
			}

			.result {
				margin-top: 20px;
				padding: 10px 10px 0 10px;
				border: 1px solid #CCCCCC;
				color: #e77064;
			}

			.result p {
				margin-top: 0;
				padding-left: 10px;
				border-left: 4px solid #E77064;
			}

			.result p b {
				float: right;
				cursor: pointer;
			}

			.result p:after {
				content: '';
				clear: both;
				display: block;
			}

			.box1 {
				width: 800px;
				height: 800px;
				background-color: #000;
			}

			.box2 {
				width: 600px;
				height: 600px;
				background-color: #FF0;
			}

			.box3 {
				width: 200px;
				height: 200px;
				background-color: blue;
			}

			.modal {
				position: fixed;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				margin: auto;
				width: 400px;
				height: 200px;
				padding: 20px;
				background-color: pink;
				display: none;
			}
		</style>
	</head>

	<body>
		<input type="button" id="open" value="打开Modal" />
		<input type="button" id="add" value="添加事件" />
		<div id="">
			<h1 id="title" class="title">一对"CP"</h1>
		</div>
		<div class="face" id="content">
			<img src="img/120045g1eplnbpbz4fluz0.jpeg" />
			<p>
				<span></span>爱朔州网2月23日消息，此前曾报道胡歌、霍建华两位男神赴北海道拍大片，这组大片将在《时尚芭莎》3月下封面大片亮相。</p>
			<p>大片中两位男神CP雪地嬉戏基情满满。</p>
			<p>这
				<a href="2-BOM.html">高颜值</a>和大长腿，小编表示血槽已空啊……
			</p>
		</div>
		<div class="comment">
			<input type="text" name="" id="txt" value="" />
			<input type="button" name="" id="btn" value="评论" />
			<div class="result" id="result">
				<p>基情满满<b>x</b></p>
				<p>是胡不是霍<b>x</b></p>
				<p>撒娇的<b>x</b></p>
				<p>要删除的评论<b>x</b></p>
				<p>新的评论<b>x</b></p>
			</div>
		</div>
		<!-- 弹窗 -->
		<div class="modal">
			modal框
			<div class="footer">
				<button id="close" type="button">关闭</button>
			</div>
		</div>
		<script type="text/javascript">
			// 查找元素
			var oTitle = document.getElementById("title");
			var oOpen = document.getElementById("open");
			var oModal = document.querySelector(".modal");
			var oClose = document.getElementById("close");
			var oBtn = document.getElementById("btn");
			var oTxt = document.getElementById("txt");
			var oResult = document.getElementById("result");
			var oDel = document.querySelectorAll(".result p b");

			// 			for (var i = 0; i < oDel.length; i++) {
			// 				oDel[i].onclick = function() {
			// 					oResult.removeChild(this.parentNode);
			// 				}
			// 			}
			// 事件委托
			oResult.onclick = function(event) {
				// 事件对象
				// 实际点击的元素
				if (event.target.tagName == "B") {
					this.removeChild(event.target.parentNode);
				}
			}
			
			oBtn.onclick = function() {
				var txt = oTxt.value;
				//检测是否为空
				if (!txt) {
					alert("请输入有效评论！");
					return;
				}
				// 创建标签
				var oP = document.createElement("p");
				// 修饰元素
				oP.innerHTML = txt + "<b>x</b>";
				// 插入元素
				// oResult.appendChild(oP);
				oResult.insertBefore(oP, oResult.firstChild);
				// 清空文本框
				oTxt.value = "";
			}


			oTitle.onclick = function() {
				oTitle.innerText = "胡歌霍建华冰天雪地";
				// oTitle.innerHTML = "胡歌<small style='color:red'>霍建华</small>冰天雪地";
				oTitle.style.color = "white";
				oTitle.style.backgroundColor = "blue";
				oTitle.style.padding = "10px";
			}
			oOpen.onclick = function() {
				oModal.style.display = "block";
			}
			oClose.onclick = function() {
				oModal.style.display = "none";
			}
		</script>
	</body>

</html>
