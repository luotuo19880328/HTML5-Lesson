<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<h1>读取cookie</h1>
		<fieldset id="">
			<legend>购物车</legend>
			<table width="100%" border="1">
				<thead>
					<tr>
						<th>商品</th>
						<th>数量</th>
						<th>价格</th>
						<th>操作</th>
					</tr>
				</thead>
				<tbody align="center">

				</tbody>
			</table>
		</fieldset>

		<script type="text/javascript">
			var oTbody = document.querySelector("table tbody");
			// 读取cookie
			var cart = getCookie("cart");
			// JSON => 数组
			if (cart) {
				cart = JSON.parse(cart);
			} else {
				cart = [];
			}
			
			cart.forEach(function(item, index) {
				var oTr = document.createElement("tr");
				oTr.innerHTML =
					"<td>" + item.name + "</td>" +
					"<td>" + item.num + "</td>" +
					"<td>" + item.price + "</td>" +
					"<td></td>";
				oTbody.appendChild(oTr);
			});

			function getCookie(cname) {
				var name = cname + "=";
				var ca = document.cookie.split(';');
				for (var i = 0; i < ca.length; i++) {
					var c = ca[i].trim();
					var arrC = c.split("=");
					if (arrC[0] == cname) {
						return arrC[1];
					}
				}
				return "";
			}
		</script>
	</body>
</html>
