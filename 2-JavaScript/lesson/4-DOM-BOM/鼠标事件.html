<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			.box {
				position: absolute;
				left: 0;
				top: 0;
				width: 100px;
				height: 100px;
				background-color: yellow;
			}
		</style>

	</head>

	<body>
		<div class="box"></div>

		<script type="text/javascript">
			// 查找元素
			var oBox = document.querySelector(".box");
			// 移入事件
			oBox.onmouseover = function() {
				this.style.backgroundColor = "green";
			}
			// 移除事件
			oBox.onmouseout = function() {
				this.style.backgroundColor = "yellow";
			}
			// 拖拽
			// mousedown事件
			oBox.onmousedown = function(e) {
				// 记录起点的坐标
				var sx = e.pageX;
				var sy = e.pageY;
				// 获取当前的left/top值
				var left = oBox.offsetLeft;
				var top = oBox.offsetTop;
				// mousemove事件
				document.onmousemove = function(e) {
					// 记录终点的坐标
					var dx = e.pageX;
					var dy = e.pageY;
					// 计算移动距离
					var moveX = dx - sx;
					var moveY = dy - sy;
					console.log(moveX, moveY);
					return;
					// 新位置
					oBox.style.left = left + moveX + "px";
					oBox.style.top = top + moveY + "px";
				}
			}
			// mouseup事件--移除mousemove事件
			document.onmouseup = function() {
				document.onmousemove = null;
			}
		</script>

	</body>

</html>
