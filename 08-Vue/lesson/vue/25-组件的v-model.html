<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			.input-box {
				display: inline-block;
				position: relative;
			}

			.input-box input {
				width: 240px;
				padding: 6px;
				border: 1px solid #bbb;
				border-radius: 4px;
				outline: 0;
			}

			.input-box i {
				position: absolute;
				top: 50%;
				right: 8px;
				transform: translateY(-50%);
				display: inline-block;
				width: 18px;
				height: 18px;
				line-height: 18px;
				border-radius: 50%;
				background-color: #ccc;
				color: black;
				font-style: normal;
				text-align: center;
				font-size: 12px;
				transition: all 0.5s;
				opacity: 0;
				cursor: pointer;
			}

			.input-box:hover i {
				opacity: 1;
			}
		</style>
	</head>
	<body>
		<fieldset id="">
			<legend>组件的v-model</legend>
			<ol>
				<li>组件内部定义的时候，必须有一个props属性叫value</li>
				<li>组件内部定义的时候，$emit出去事件必须叫input事件</li>
				<li>不仅仅给input表单使用，可以给任何标签使用</li>
			</ol>
			<div id="app">
				<clear-input v-model="username"></clear-input>
			</div>
			<script src="./lib/vue/vue.js"></script>
			<script id="tmpl-input" type="text/x-template">
				<div class="input-box">
					<input type="text" :value="value" @input="$emit('input',$event.target.value)">
					<i @click="$emit('input','')">X</i>
				</div>
			</script>
			<script type="text/javascript">
				Vue.component('clear-input', {
					props: ['value'],
					template: "#tmpl-input"
				});
			</script>
			<script type="text/javascript">
				var app = new Vue({
					el: "#app",
					data: {
						username: "黄小米"
					}
				});
			</script>
		</fieldset>

	</body>

</html>
