<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.active {
				font-weight: bold;
				color: blue;
			}
		</style>
	</head>

	<body>
		<div id="app">
			<button v-for="tab in tabs" :key="tab" :class="{ active: currentTab === tab }" @click="currentTab = tab">{{ tab }}</button>
			<keep-alive>
				<component :is="currentTabComponent" class="tab-content"></component>
			</keep-alive>
		</div>
		<script src="lib/vue/vue.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			Vue.component('tab-home', {
				template: '<div>Home component</div>'
			})
			Vue.component('tab-posts', {
				data: function() {
					return {
						count: 1
					}
				},
				template: '<div><button @click="count++" type="button">次数：{{count}}</button></div>'
			})
			Vue.component('tab-archive', {
				template: '<div>Archive component</div>'
			})

			new Vue({
				el: '#app',
				data: {
					currentTab: 'Home',
					tabs: ['Home', 'Posts', 'Archive']
				},
				computed: {
					currentTabComponent: function() {
						return 'tab-' + this.currentTab.toLowerCase()
					}
				}
			})
		</script>
	</body>

</html>
