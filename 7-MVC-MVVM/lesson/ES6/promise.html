<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>

	<body>
		<div id="box">

		</div>
		<script type="text/javascript">
			function loadImageAsync(url) {
				return new Promise(function(resolve, reject) {
					const image = new Image();
					image.src = url;

					image.onload = function() {
						resolve(image);
					};

					image.onerror = function() {
						reject(new Error('Could not load image at ' + url));
					};
				});
			}
			//调用
			loadImageAsync('./img/0.jpg')
				.then(function(data) {
					console.log(data);
					return loadImageAsync('./img/1.png')
				})
				.then(function(data) {
					console.log(data);
					return loadImageAsync('./img/2.png')
				})
				.then(function(data) {
					console.log(data);
				})
				.catch(function(error) {

				});
		</script>
		<script type="text/javascript">
			(function() {
				setTimeout(function() {
					console.log(4);
				}, 0);
				var count = 0;
				new Promise(function(resolve, reject) {
					console.log(1);
					for(let i = 0; i < 2; i++) {
						count += i;
					};
					resolve(console.log(2));
				}).then(function(data) {
					console.log(3);
				});
				console.log(5);
			})();
		</script>
	</body>

</html>